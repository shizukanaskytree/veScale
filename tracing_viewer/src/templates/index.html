<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log Viewer</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <script src="/static/js/main.js" defer></script>
</head>
<body>
    <h1>Log Viewer</h1>
    <div id="log-container">
        {% if log_entries %}
            {% for entry in log_entries %}
                <div class="log-entry" data-file="{{ entry.file }}" data-line="{{ entry.line }}">
                    <span style="margin-left: {{ entry.indentation }}em;">
                        {% if entry.type == 'call' %}
                            ➔ call function <strong>{{ entry.function }}</strong> in {{ entry.file }}:{{ entry.line }}
                            <button class="show-code-btn" data-file="{{ entry.file }}" data-line="{{ entry.line }}">Show Code</button>
                        {% elif entry.type == 'exit' %}
                            ⇐ exit function <strong>{{ entry.function }}</strong> in {{ entry.file }}</strong>:{{ entry.line }}
                        {% endif %}
                    </span>
                    <div class="code-snippet" style="display: none; margin-left: {{ entry.indentation + 2 }}em;"></div> <!-- Hidden code snippet area -->
                </div>
            {% endfor %}
        {% else %}
            <p>No log entries found.</p>
        {% endif %}
    </div>
    <button id="load-more-btn">Load More</button> <!-- Button to load more log entries -->
</body>
</html>
